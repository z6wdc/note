---
title: Unicode 編碼設計說明：UTF-8、UTF-16、UTF-32 與 Code Point
date: 2025-07-17 17:52:58
tags:
---
## 什麼是 Unicode 與 Code Point？

**Unicode** 是一個全球統一的字元編碼標準，用來表示世界上所有語言的文字。

每個字元在 Unicode 中都有一個唯一的編號，稱為 **Code Point（碼位）**，以 `U+` 加上十六進位表示，例如：

- `A` 的 Code Point 是 `U+0041`
- `你` 的 Code Point 是 `U+4F60`

Unicode 標準定義了超過 140,000 個字元，Code Point 的有效範圍是：  
**U+0000 ~ U+10FFFF**

## UTF(Unicode Transformation Format) 編碼格式概觀

Unicode 的實際儲存與傳輸需要編碼方式，最常見的有三種：

| 編碼格式 | 可變/固定長度 | 每個字元所需位元組數 | 特點                          |
|----------|----------------|------------------------|-------------------------------|
| UTF-8    | 可變長度       | 1 ~ 4 bytes            | 相容 ASCII，網路應用最常見    |
| UTF-16   | 可變長度       | 2 或 4 bytes           | 多用於 Windows、Java 平台     |
| UTF-32   | 固定長度       | 4 bytes                | 編碼簡單，但空間浪費大         |

## UTF-8 編碼規則

| Unicode 範圍       | Bytes | 格式                                      |
|--------------------|-------|-------------------------------------------|
| U+0000 ~ U+007F    | 1     | 0xxxxxxx                                  |
| U+0080 ~ U+07FF    | 2     | 110xxxxx 10xxxxxx                         |
| U+0800 ~ U+FFFF    | 3     | 1110xxxx 10xxxxxx 10xxxxxx                |
| U+10000 ~ U+10FFFF | 4     | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx       |

- 向後相容 ASCII
- 無需 BOM，廣泛用於網頁與資料交換

## UTF-16 編碼規則

| Unicode 範圍       | Bytes | 格式說明                     |
|--------------------|-------|------------------------------|
| U+0000 ~ U+FFFF    | 2     | 直接儲存為 2 bytes           |
| U+10000 ~ U+10FFFF | 4     | 使用「代理對」(Surrogate Pair) 編碼為 2 個 2 bytes |

範例：
- `你` (U+4F60)：直接用 2 bytes 表示
- `𐍈` (U+10348)：需轉換為代理對：D800–DBFF（高位）與 DC00–DFFF（低位）

**需要注意大小端問題**（Big Endian / Little Endian），常使用 BOM 表示。

## UTF-32 編碼規則

- 所有字元皆使用 **4 bytes** 表示，不論是 ASCII 或罕見字元。
- 編碼簡單，對應一對一，但浪費空間。

例如：
- `A` (U+0041) → 0x00000041
- `𐍈` (U+10348) → 0x00010348

## 總結

Unicode 提供統一的字元碼位（Code Point），而 UTF-8、UTF-16、UTF-32 是其三種主要的編碼方式。

| 編碼格式 | 優點                                 | 缺點                                  |
|----------|--------------------------------------|---------------------------------------|
| UTF-8    | 相容 ASCII、省空間、廣泛支援         | 多位元組處理較複雜                    |
| UTF-16   | 介於 UTF-8 與 UTF-32 之間，較常見於內部處理 | 處理代理對與 BOM 增加複雜度        |
| UTF-32   | 編碼簡單，易於計算與跳轉             | 空間浪費大，實際應用較少             |
